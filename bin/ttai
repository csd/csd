#!/usr/bin/env ruby



#
# THIS IS A DUPLICATE OF THE EXECUTABLE 'ai'
#






require 'rubygems'
require 'csd'

begin
  # Running the CSD library and telling it who started it
  CSD.bootstrap :executable => 'ttai'
rescue CSD::Error::CSDError => e
  # Here we catch CSD internal errors and exit with the propriate status code
  # We output the error message only for status codes 50 and higher, because they are rather severe
  CSD.ui.error e.message unless e.status_code <= 49
  exit e.status_code
rescue Interrupt
  # Lastly, close the AI gracefully on abnormal termination
  CSD.ui.separator
  CSD.ui.info "Quitting the AI...".red
  exit 1
rescue Exception => e
  puts e
  puts
  puts "  \e[31m\e[1mPlease report errors at:\e[0m \e[36mhttp://github.com/csd/csd/issues\e[0m"
  puts
end